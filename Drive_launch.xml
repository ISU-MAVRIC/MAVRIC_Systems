<launch>
    <!-- Declare launch arguments -->
    <arg name="driveMode" default="false"/>
    <arg name="scienceMode" default="false"/>
    <arg name="autoMode" default="false"/>

    <!-- Drivetrain_Control Node for regular mode -->
    <node name="Drivetrain_Control" package="SparkCan" executable="SparkCAN_Drive_Train.py" output="screen" respawn="true" unless="$(eval launch-configuration('scienceMode') == 'true')">
        <remap from="Drive_Train" to="Drive/Drive_Command"/>
        <remap from="Steer_Train" to="Drive/Steer_Command"/>
    </node>

    <!-- Scale_Startups Node for drive mode -->
    <node name="Scale_Startups_Drive" package="SparkCan" executable="Scale_Startups.py" output="screen" respawn="false" if="$(eval launch-configuration('driveMode') == 'true')">
        <param name="Drive_Sens" value="1.0"/>
        <param name="ShoulderRot" value="0.25"/>
        <param name="ShoulderPitch" value="0.75"/>
        <param name="ElbowPitch" value="0.75"/>
        <param name="WristPitch" value="0.3"/>
        <param name="WristRot" value="0.75"/>
    </node>

    <!-- Drivetrain_Control Node for science mode -->
    <node name="Drivetrain_Control" package="SparkCan" executable="SparkCAN_Drive_Train.py" output="screen" respawn="true" if="$(eval launch-configuration('scienceMode') == 'true')">
        <remap from="Drive_Train" to="Drive/Drive_Command"/>
        <remap from="Steer_Train" to="Drive/Steer_Command"/>
    </node>

    <!-- Scale_Startups Node for science mode -->
    <node name="Scale_Startups_Science" package="SparkCan" executable="Scale_Startups.py" output="screen" respawn="false" if="$(eval launch-configuration('scienceMode') == 'true')">
        <param name="ShoulderRot" value="0.25"/>
        <param name="ShoulderPitch" value="0.50"/>
        <param name="ElbowPitch" value="0.0"/>
        <param name="WristPitch" value="0.75"/>
        <param name="WristRot" value="0.05"/>
    </node>

    <!-- Scale_Startups Node for auto mode -->
    <node name="Scale_Startups_Auto" package="SparkCan" executable="Scale_Startups.py" output="screen" respawn="false" if="$(eval launch-configuration('autoMode') == 'true')">
        <param name="Drive_Sens" value="1.0"/>
        <param name="ShoulderRot" value="0.0"/>
        <param name="ShoulderPitch" value="0.0"/>
        <param name="ElbowPitch" value="0.0"/>
        <param name="WristPitch" value="0.0"/>
        <param name="WristRot" value="0.0"/>
    </node>

    <!-- Example of correcting the substitution -->
    <include file="$(find-pkg-share your_package_name)/launch/another_launch_file.xml">
        <!-- ...existing code... -->
    </include>
</launch>